# 生产环境配置

spring:
  datasource:
    url: jdbc:h2:file:/var/lib/moyue/data/moyue;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;DB_CLOSE_ON_EXIT=FALSE
  jpa:
    hibernate:
      ddl-auto: validate  # 生产环境只验证，不自动更新
    show-sql: false
  
  h2:
    console:
      enabled: false

logging:
  level:
    root: WARN
    com.moyue: INFO
    org.springframework: WARN
    org.hibernate: WARN
  file:
    name: /var/log/moyue/moyue-backend.log

moyue:
  data:
    home: /var/lib/moyue
  security:
    default-level: standard  # 生产环境使用标准安全级别
  
  performance:
    cache:
      enabled: true
      ttl: 1800  # 30分钟
      
# 生产环境 OkHttp 配置
okhttp:
  connect-timeout: 10
  read-timeout: 30
  write-timeout: 10
  connection-pool:
    max-idle: 20
    keep-alive: 10
  logging:
    enabled: false  # 生产环境关闭日志
  proxy:
    enabled: false

# 生产环境异步任务配置
async:
  core-pool-size: 10
  max-pool-size: 20
  queue-capacity: 200
